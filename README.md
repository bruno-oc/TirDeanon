# TirDeanon
### Deanonymization and Traffic-Unobservability Analysis of TIR as a Strengthened Solution to Improve Anonymity Guarantees in Tor

TirDeanon is a traffic deanonymization tool that performs traffic correlations over the traffic flows of Tor-based solutions with the ability of Deep Learning Neural Networks.
It was developed in the context of the dissertation:

```
@mastersthesis{tirdeanon,
author = {Bruno Carvalho},
title  = {TirDeanon: Deanonymization and Traffic-Unobservability Analysis of TIR as a Strengthened Solution to Improve Anonymity Guarantees in Tor},
school = {NOVA School of Science and Technology},
year   = 2023,
month  = 03, 
}
```

TirDeanon was used to assess the non-observability properties of the K-Anonymity solution TIR when in the presence of a State-Level adversary with access to the clientâ€™s traffic.


## Setup
TirDeanon is composed of three main modules: 

- Coordinator: responsible for coordinating the other modules and for extracting the relevant information from the packets that make up the raw traffic flows;

- Probing: captures the traffic flows that traverse the TIR and Tor network; 

- Correlator: employs a Convolutional Neural Network over the timing and sizing characteristics of the traffic to establish a correlation between the traffic flows ingressing the TIR network and the traffic flows egressing the Tor network.

The following table displays the tech stack used for each component:

|    Module   	|               Component              	|      Technology     	|      Version     	|
|:-----------:	|:------------------------------------:	|:-------------------:	|:----------------:	|
| Coordinator 	|   Coordinator<br>Traffic Processing  	|   Python<br>Scapy   	|  3.10.0<br>2.5.0 	|
|   Probing   	| Traffic Generator<br>Traffic Capture 	|    Java<br>Tshark   	|    11<br>3.6.6   	|
|  Correlator 	|              Correlation             	| Tensorflow<br>Keras 	| 2.10.0<br>2.10.0 	|


## Use Case

1. To use TirDeanon, the attacker must first gather the traffic data he plans to analyze, which is done by resorting to the Probing Module. 

2. The Traffic Generator component contains a Client that is connected to the TIR network, which is responsible for issuing HTTP requests to access the Files provided by the Destination Web Server. 
3. The traffic generated by the Client/Server is captured by the Traffic Capture component and is then forwarded to the Coordinator.

4. Upon receiving the raw data from the Probing Module, the Coordinator processes this data and relays the relevant information to the Correlator. 

5. Finally, the Correlator determines if the information provided by the attacker matches information from a user who has accessed the server that the correlator has been trained to recognize.

